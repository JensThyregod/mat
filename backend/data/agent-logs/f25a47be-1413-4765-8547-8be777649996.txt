╔══════════════════════════════════════════════════════════════════╗
║              TERMINSPRØVE AGENT CHAT LOG                        ║
╚══════════════════════════════════════════════════════════════════╝

  ID:         f25a47be-1413-4765-8547-8be777649996
  Status:     Completed
  Started:    2026-02-13 20.47.54 UTC
  Completed:  2026-02-13 20.49.51 UTC
  Duration:   117,1s
  Tasks:      10 generated
  Iterations: 2

──────────────────────────────────────────────────────────────────
  REQUEST
──────────────────────────────────────────────────────────────────
  Level:        fp9
  ExamPart:     uden_hjaelpemidler
  TaskCount:    10
  Difficulty:   30 % easy / 50 % medium / 20 % hard
  Categories:   []

══════════════════════════════════════════════════════════════════
  AGENT CHAT HISTORY
══════════════════════════════════════════════════════════════════

┌─ [1/5] FastAgentOrchestrator ─ GenerateTerminsprove (summary)
│  Timestamp: 2026-02-13 20.49.51.907 UTC
│  Duration:  117105ms
│  Parsed:    10 tasks (success=True)
│
│  ┌── INPUT (prompt sent to LLM) ──────────────────────────────
│  │ Request: 10 tasks, level=fp9, examPart=uden_hjaelpemidler, difficulty=(30 %/50 %/20 %), categories=[]
│  └───────────────────────────────────────────────────────────
│
│  ┌── OUTPUT (raw LLM response) ───────────────────────────────
│  │ Generated 10 tasks in 117104ms (2 batches, 4 agent calls)
│  └───────────────────────────────────────────────────────────
└──────────────────────────────────────────────────────────────

┌─ [2/5] BatchTaskGenerator ─ GenerateBatch (count=5, batch=0)
│  Timestamp: 2026-02-13 20.48.41.764 UTC
│  Duration:  46626ms
│  Parsed:    5 tasks (success=True)
│
│  ┌── INPUT (prompt sent to LLM) ──────────────────────────────
│  │ [SystemPrompt]
│  │ Du er en kreativ og erfaren matematiklærer der skriver engagerende FP9 prøveopgaver.
│  │ Du er kendt for at lave opgaver der føles som små historier — eleverne skal leve sig ind i scenariet.
│  │ 
│  │ STIL OG KREATIVITET:
│  │ - Hver opgave er en MINI-HISTORIE med en levende kontekst. Brug navne, steder, situationer.
│  │ - contextText sætter scenen med detaljer: "Amalie og hendes klasse er på tur til Tivoli. De har 500 kr til forlystelser og mad."
│  │ - Hver delopgave BYGGER VIDERE på historien og tilføjer NY INFORMATION eller et nyt twist.
│  │   Eksempel: a) handler om billetpriser, b) tilføjer "De køber også 3 hotdogs til 35 kr stykket", 
│  │   c) tilføjer "Amalie finder en kupon der giver 15% rabat på mad", d) spørger om de har råd til en ekstra tur.
│  │ - Delopgaverne skal IKKE bare være "beregn det samme på en sværere måde" — de skal UDVIDE historien.
│  │ - Brug konkrete danske navne (Sofie, Magnus, Freja, Oliver), steder (Roskilde, Aarhus, Legoland), 
│  │   og situationer (klassefest, skoletur, sportsdag, bageprojekt, loppemarked, cykeltur).
│  │ 
│  │ OPGAVEFORMAT:
│  │ - Svære opgaver: 1 delopgave (opgaven er kompleks nok i sig selv)
│  │ - Middel opgaver: 2-3 delopgaver  
│  │ - Lette opgaver: 3-4 delopgaver
│  │ - Delopgaverne bliver PROGRESSIVT sværere (a=let → d=svær)
│  │ 
│  │ VIGTIGT: Beregn svaret FØRST, skriv opgaven EFTER. Dobbelttjek alle beregninger.
│  │ 
│  │ Output KUN valid JSON array. Ingen markdown, ingen forklaring.
│  │ 
│  │ [UserPrompt]
│  │ Generer 5 kreative FP9 prøveopgaver.
│  │ 
│  │ Krav: uden_hjaelpemidler, fordeling: 30% let, 50% middel, 20% svær, fokus: varieret
│  │ 
│  │ Opgavetyper: tal_ligninger, tal_broeker_og_antal, tal_regnearter, tal_pris_rabat_procent, tal_forholdstalsregning, geo_sammensat_figur, geo_vinkelsum, geo_enhedsomregning, stat_boksplot, stat_sandsynlighed
│  │ 
│  │ KREATIVITETSREGLER:
│  │ 1. contextText skal sætte en LEVENDE scene med navne og detaljer — som en lille historie
│  │ 2. Hver delopgave TILFØJER ny information eller et twist til historien (nye tal, nye betingelser, overraskelser)
│  │ 3. Delopgaverne skal IKKE bare gentage samme beregning med sværere tal — de skal UDVIDE scenariet
│  │ 4. Brug danske navne (Sofie, Magnus, Freja, Oliver, Ida, Noah, Emma, Victor)
│  │ 5. Brug virkelige steder og situationer (skoletur til Experimentarium, loppemarked i Aarhus, 
│  │    svømmestævne, bageprojekt, cykeltur langs Limfjorden, klassens budget til lejrskole)
│  │ 6. Variér temaer: mad/opskrifter, sport/konkurrencer, rejser/afstande, økonomi/budget, 
│  │    byggeri/indretning, natur/dyreliv, musik/festival
│  │ 
│  │ MATEMATISKE REGLER:
│  │ 1. Beregn svaret FØRST, skriv opgaven EFTER — dobbelttjek!
│  │ 2. Brug pæne tal der giver hele eller simple svar
│  │ 3. Variér kategori og opgavetype mellem opgaverne
│  │ 4. Skriv på naturligt, korrekt dansk
│  │ 
│  │ FORMAT:
│  │ - Svære opgaver: 1 delopgave (kompleks nok i sig selv)
│  │ - Middel: 2-3 delopgaver
│  │ - Lette: 3-4 delopgaver
│  │ - Delopgaverne bliver progressivt sværere (a=let → d=svær)
│  │ 
│  │ Eksempel på god opgave:
│  │ {
│  │   "taskTypeId":"tal_forholdstalsregning",
│  │   "category":"tal_og_algebra",
│  │   "difficulty":"middel",
│  │   "contextText":"Freja og Oliver skal bage pandekager til deres klasses sommerfest. Opskriften er til 4 personer og kræver 200 g mel, 3 dL mælk og 2 æg.",
│  │   "subQuestions":[
│  │     {"label":"a","questionText":"De skal bage til 12 personer. Hvor meget mel skal de bruge?","answer":{"value":"600","unit":"g"},"difficulty":"let","points":1,"solutionSteps":[{"stepNumber":1,"description":"Find faktor: 12/4 = 3","mathExpression":"12 ÷ 4","result":"3"},{"stepNumber":2,"description":"Gang mel med faktor","mathExpression":"200 · 3","result":"600 g"}]},
│  │     {"label":"b","questionText":"Oliver finder ud af at de kun har 5 dL mælk derhjemme. Hvor mange personer kan de lave pandekager til med den mælk?","answer":{"value":"6","unit":"personer"},"difficulty":"middel","points":1,"solutionSteps":[{"stepNumber":1,"description":"Mælk pr person: 3/4 = 0,75 dL","mathExpression":"3 ÷ 4","result":"0,75 dL"},{"stepNumber":2,"description":"Antal personer: 5/0,75","mathExpression":"5 ÷ 0,75","result":"6 personer"}]},
│  │     {"label":"c","questionText":"Freja køber en ekstra liter mælk (10 dL). Nu har de 15 dL mælk i alt. De beslutter at lave pandekager til alle 12 personer. Hvor mange dL mælk har de tilovers?","answer":{"value":"6","unit":"dL"},"difficulty":"middel","points":1,"solutionSteps":[{"stepNumber":1,"description":"Mælk til 12 personer: 3 · 3 = 9 dL","mathExpression":"3 · 3","result":"9 dL"},{"stepNumber":2,"description":"Tilovers: 15 - 9","mathExpression":"15 - 9","result":"6 dL"}]}
│  │   ],
│  │   "points":3,
│  │   "estimatedTimeSeconds":180
│  │ }
│  │ 
│  │ Output: JSON array med 5 opgaver. KUN JSON, ingen markdown.
│  └───────────────────────────────────────────────────────────
│
│  ┌── OUTPUT (raw LLM response) ───────────────────────────────
│  │ [
│  │   {
│  │     "taskTypeId": "tal_regnearter",
│  │     "category": "tal_og_algebra",
│  │     "difficulty": "let",
│  │     "contextText": "Sofie og Noah er på loppemarked i Aarhus med deres klasse. De har en fælles pengepung med 300 kr til at købe brugte bøger, spil og måske en is til sidst.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "Sofie finder en stak brugte bøger. Hver bog koster 25 kr, og hun køber 3 bøger. Hvor mange penge bruger hun på bøgerne?",
│  │         "answer": {
│  │           "value": "75",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Gang pris pr. bog med antal bøger",
│  │             "mathExpression": "25 · 3",
│  │             "result": "75 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "Noah finder et brætspil til 60 kr og et puslespil til 45 kr. Hvor mange penge bruger han i alt?",
│  │         "answer": {
│  │           "value": "105",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Læg priserne sammen",
│  │             "mathExpression": "60 + 45",
│  │             "result": "105 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Efter de har købt bøger og spil, vil de se, hvor mange penge der er tilbage i den fælles pengepung. Hvor mange kroner har de tilbage af de 300 kr?",
│  │         "answer": {
│  │           "value": "120",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find samlet forbrug",
│  │             "mathExpression": "75 + 105",
│  │             "result": "180 kr"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Træk forbruget fra det oprindelige beløb",
│  │             "mathExpression": "300 - 180",
│  │             "result": "120 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "d",
│  │         "questionText": "Til sidst vil de købe is. En is koster 20 kr pr. person. De vil også købe en ekstra is til deres lærer. Hvor mange is kan de højst købe for de 120 kr, hvis de også skal have en til læreren?",
│  │         "answer": {
│  │           "value": "6",
│  │           "unit": "is"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find hvor mange is 120 kr rækker til",
│  │             "mathExpression": "120 ÷ 20",
│  │             "result": "6 is"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "De 6 is inkluderer også isen til læreren",
│  │             "mathExpression": "",
│  │             "result": "De kan købe 6 is i alt"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 4,
│  │     "estimatedTimeSeconds": 300
│  │   },
│  │   {
│  │     "taskTypeId": "tal_forholdstalsregning",
│  │     "category": "tal_og_algebra",
│  │     "difficulty": "middel",
│  │     "contextText": "Emma og Victor skal bage pizzasnegle til klassens film-aften på skolen i Roskilde. Opskriften er beregnet til 8 pizzasnegle og bruger 200 g mel og 100 g ost.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "De vil bage 24 pizzasnegle. Hvor mange gram mel skal de bruge?",
│  │         "answer": {
│  │           "value": "600",
│  │           "unit": "g"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find hvor mange gange opskriften skal ganges op",
│  │             "mathExpression": "24 ÷ 8",
│  │             "result": "3"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Gang mængden af mel med 3",
│  │             "mathExpression": "200 · 3",
│  │             "result": "600 g"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "De opdager, at de kun har 250 g ost. Hvor mange pizzasnegle kan de højest bage, hvis forholdet mellem mel og ost skal være det samme som i den oprindelige opskrift?",
│  │         "answer": {
│  │           "value": "20",
│  │           "unit": "pizzasnegle"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find hvor meget ost der bruges pr. pizzasnegl",
│  │             "mathExpression": "100 ÷ 8",
│  │             "result": "12,5 g pr. pizzasnegl"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Brug den samlede ost til at finde antal pizzasnegle",
│  │             "mathExpression": "250 ÷ 12,5",
│  │             "result": "20 pizzasnegle"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Læreren fortæller, at der kommer 25 elever til film-aften, og alle skal mindst have 2 pizzasnegle. Emma foreslår at bage små pizzasnegle, så hver opskrift giver 12 i stedet for 8. Hvor mange hele portioner af opskriften skal de bage for at have nok små pizzasnegle til alle?",
│  │         "answer": {
│  │           "value": "5",
│  │           "unit": "portioner"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find hvor mange pizzasnegle der mindst skal bages",
│  │             "mathExpression": "25 · 2",
│  │             "result": "50 pizzasnegle"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Find antal pizzasnegle pr. portion, når de laver små snegle",
│  │             "mathExpression": "12 pizzasnegle pr. portion",
│  │             "result": "12"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Find hvor mange portioner der mindst skal bages",
│  │             "mathExpression": "50 ÷ 12",
│  │             "result": "4,16..."
│  │           },
│  │           {
│  │             "stepNumber": 4,
│  │             "description": "Afrund op til nærmeste hele portion",
│  │             "mathExpression": "",
│  │             "result": "5 portioner"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 5,
│  │     "estimatedTimeSeconds": 420
│  │   },
│  │   {
│  │     "taskTypeId": "geo_sammensat_figur",
│  │     "category": "geometri",
│  │     "difficulty": "middel",
│  │     "contextText": "Freja og Oliver hjælper med at planlægge en ny hundegård i deres bedsteforældres have i Aalborg. Hundegården skal have form som et rektangel med et lille kvadratisk område til hundehus i det ene hjørne.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "Det rektangulære område til hundegården skal være 8 m langt og 5 m bredt. Hvad er arealet af hele det rektangulære område?",
│  │         "answer": {
│  │           "value": "40",
│  │           "unit": "m²"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Gang længde og bredde",
│  │             "mathExpression": "8 · 5",
│  │             "result": "40 m²"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "I det ene hjørne vil de bygge et kvadratisk område til hundehus med sidelængden 2 m. Hvad er arealet af området til hundehuset?",
│  │         "answer": {
│  │           "value": "4",
│  │           "unit": "m²"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Et kvadrats areal er sidelængde · sidelængde",
│  │             "mathExpression": "2 · 2",
│  │             "result": "4 m²"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Det kvadratiske område til hundehuset ligger inde i det store rektangel. Hvor stort bliver arealet af det område, hvor hunden kan løbe frit (altså uden hundehuset)?",
│  │         "answer": {
│  │           "value": "36",
│  │           "unit": "m²"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Træk arealet af hundehuset fra det samlede rektangel",
│  │             "mathExpression": "40 - 4",
│  │             "result": "36 m²"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "d",
│  │         "questionText": "Freja vil købe hegn til at sætte rundt om hele den ydre rektangulære hundegård. Hvor mange meter hegn skal hun bruge i alt, hvis hun skal rundt om alle fire sider?",
│  │         "answer": {
│  │           "value": "26",
│  │           "unit": "m"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Beregn rektanglets omkreds",
│  │             "mathExpression": "2 · (8 + 5)",
│  │             "result": "2 · 13 = 26 m"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 5,
│  │     "estimatedTimeSeconds": 420
│  │   },
│  │   {
│  │     "taskTypeId": "stat_sandsynlighed",
│  │     "category": "statistik_og_sandsynlighed",
│  │     "difficulty": "middel",
│  │     "contextText": "Ida og Magnus er til svømmestævne i Odense. De deltager i en lille konkurrence, hvor man kan vinde præmier ved at trække farvede kugler op af en pose efter hvert løb.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "I posen ligger der 5 røde kugler, 3 blå kugler og 2 grønne kugler. Hvor mange kugler er der i alt i posen?",
│  │         "answer": {
│  │           "value": "10",
│  │           "unit": "kugler"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Læg alle kugler sammen",
│  │             "mathExpression": "5 + 3 + 2",
│  │             "result": "10 kugler"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "En rød kugle giver en lille præmie. Hvad er sandsynligheden for at trække en rød kugle i ét forsøg? Svar som brøk.",
│  │         "answer": {
│  │           "value": "1/2",
│  │           "unit": ""
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Sandsynlighed = antal gunstige / antal mulige",
│  │             "mathExpression": "5 ÷ 10",
│  │             "result": "5/10"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Forkort brøken",
│  │             "mathExpression": "5/10 = 1/2",
│  │             "result": "1/2"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "En grøn kugle giver en stor præmie, men Ida må kun trække én kugle. Hvad er sandsynligheden for, at hun IKKE får en stor præmie (altså ikke trækker en grøn kugle)? Svar som brøk.",
│  │         "answer": {
│  │           "value": "4/5",
│  │           "unit": ""
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Antal kugler der ikke er grønne",
│  │             "mathExpression": "10 - 2",
│  │             "result": "8 kugler"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Sandsynlighed for ikke at trække grøn",
│  │             "mathExpression": "8 ÷ 10",
│  │             "result": "8/10"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Forkort brøken",
│  │             "mathExpression": "8/10 = 4/5",
│  │             "result": "4/5"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 5,
│  │     "estimatedTimeSeconds": 360
│  │   },
│  │   {
│  │     "taskTypeId": "tal_pris_rabat_procent",
│  │     "category": "tal_og_algebra",
│  │     "difficulty": "svær",
│  │     "contextText": "Klassens elevråd planlægger en tur til Experimentarium i Hellerup. De skal finde ud af, om deres budget rækker til både togbilletter og entrébilletter. De har i alt 3600 kr i klassens kasse, og der er 24 elever, der skal med.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "En togbillet tur-retur koster 75 kr pr. elev. Experimentarium tilbyder en gruppebillet, hvor hver entrébillet koster 110 kr pr. elev. Hvor mange kroner koster turen i alt pr. elev?",
│  │         "answer": {
│  │           "value": "185",
│  │           "unit": "kr pr. elev"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Læg pris for tog og entré sammen",
│  │             "mathExpression": "75 + 110",
│  │             "result": "185 kr pr. elev"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "Hvor mange kroner vil hele turen koste for alle 24 elever tilsammen?",
│  │         "answer": {
│  │           "value": "4440",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Gang prisen pr. elev med antal elever",
│  │             "mathExpression": "185 · 24",
│  │             "result": "4440 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Experimentarium sender et tilbud: Hvis man bestiller billetterne online, får man 20% rabat på entrébilletterne (men ikke på togbilletterne). Har klassen så råd til turen med de 3600 kr? Vis din beregning.",
│  │         "answer": {
│  │           "value": "nej",
│  │           "unit": ""
│  │         },
│  │         "difficulty": "svær",
│  │         "points": 4,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Beregn rabatten på én entrébillet",
│  │             "mathExpression": "20% af 110 = 0,20 · 110",
│  │             "result": "22 kr"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Find ny pris for én entrébillet efter rabat",
│  │             "mathExpression": "110 - 22",
│  │             "result": "88 kr"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Find samlet pris pr. elev (tog + entré med rabat)",
│  │             "mathExpression": "75 + 88",
│  │             "result": "163 kr pr. elev"
│  │           },
│  │           {
│  │             "stepNumber": 4,
│  │             "description": "Beregn samlet pris for alle 24 elever",
│  │             "mathExpression": "163 · 24",
│  │             "result": "3912 kr"
│  │           },
│  │           {
│  │             "stepNumber": 5,
│  │             "description": "Sammenlign med klassens budget",
│  │             "mathExpression": "3912 > 3600",
│  │             "result": "Nej, de har ikke råd"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 8,
│  │     "estimatedTimeSeconds": 600
│  │   }
│  │ ]
│  └───────────────────────────────────────────────────────────
└──────────────────────────────────────────────────────────────

┌─ [3/5] BatchTaskGenerator ─ GenerateBatch (count=5, batch=1)
│  Timestamp: 2026-02-13 20.49.29.072 UTC
│  Duration:  46357ms
│  Parsed:    5 tasks (success=True)
│
│  ┌── INPUT (prompt sent to LLM) ──────────────────────────────
│  │ [SystemPrompt]
│  │ Du er en kreativ og erfaren matematiklærer der skriver engagerende FP9 prøveopgaver.
│  │ Du er kendt for at lave opgaver der føles som små historier — eleverne skal leve sig ind i scenariet.
│  │ 
│  │ STIL OG KREATIVITET:
│  │ - Hver opgave er en MINI-HISTORIE med en levende kontekst. Brug navne, steder, situationer.
│  │ - contextText sætter scenen med detaljer: "Amalie og hendes klasse er på tur til Tivoli. De har 500 kr til forlystelser og mad."
│  │ - Hver delopgave BYGGER VIDERE på historien og tilføjer NY INFORMATION eller et nyt twist.
│  │   Eksempel: a) handler om billetpriser, b) tilføjer "De køber også 3 hotdogs til 35 kr stykket", 
│  │   c) tilføjer "Amalie finder en kupon der giver 15% rabat på mad", d) spørger om de har råd til en ekstra tur.
│  │ - Delopgaverne skal IKKE bare være "beregn det samme på en sværere måde" — de skal UDVIDE historien.
│  │ - Brug konkrete danske navne (Sofie, Magnus, Freja, Oliver), steder (Roskilde, Aarhus, Legoland), 
│  │   og situationer (klassefest, skoletur, sportsdag, bageprojekt, loppemarked, cykeltur).
│  │ 
│  │ OPGAVEFORMAT:
│  │ - Svære opgaver: 1 delopgave (opgaven er kompleks nok i sig selv)
│  │ - Middel opgaver: 2-3 delopgaver  
│  │ - Lette opgaver: 3-4 delopgaver
│  │ - Delopgaverne bliver PROGRESSIVT sværere (a=let → d=svær)
│  │ 
│  │ VIGTIGT: Beregn svaret FØRST, skriv opgaven EFTER. Dobbelttjek alle beregninger.
│  │ 
│  │ Output KUN valid JSON array. Ingen markdown, ingen forklaring.
│  │ 
│  │ [UserPrompt]
│  │ Generer 5 kreative FP9 prøveopgaver.
│  │ 
│  │ Krav: uden_hjaelpemidler, fordeling: 30% let, 50% middel, 20% svær, fokus: varieret
│  │ 
│  │ Opgavetyper: tal_ligninger, tal_broeker_og_antal, tal_regnearter, tal_pris_rabat_procent, tal_forholdstalsregning, geo_sammensat_figur, geo_vinkelsum, geo_enhedsomregning, stat_boksplot, stat_sandsynlighed
│  │ 
│  │ KREATIVITETSREGLER:
│  │ 1. contextText skal sætte en LEVENDE scene med navne og detaljer — som en lille historie
│  │ 2. Hver delopgave TILFØJER ny information eller et twist til historien (nye tal, nye betingelser, overraskelser)
│  │ 3. Delopgaverne skal IKKE bare gentage samme beregning med sværere tal — de skal UDVIDE scenariet
│  │ 4. Brug danske navne (Sofie, Magnus, Freja, Oliver, Ida, Noah, Emma, Victor)
│  │ 5. Brug virkelige steder og situationer (skoletur til Experimentarium, loppemarked i Aarhus, 
│  │    svømmestævne, bageprojekt, cykeltur langs Limfjorden, klassens budget til lejrskole)
│  │ 6. Variér temaer: mad/opskrifter, sport/konkurrencer, rejser/afstande, økonomi/budget, 
│  │    byggeri/indretning, natur/dyreliv, musik/festival
│  │ 
│  │ MATEMATISKE REGLER:
│  │ 1. Beregn svaret FØRST, skriv opgaven EFTER — dobbelttjek!
│  │ 2. Brug pæne tal der giver hele eller simple svar
│  │ 3. Variér kategori og opgavetype mellem opgaverne
│  │ 4. Skriv på naturligt, korrekt dansk
│  │ 
│  │ FORMAT:
│  │ - Svære opgaver: 1 delopgave (kompleks nok i sig selv)
│  │ - Middel: 2-3 delopgaver
│  │ - Lette: 3-4 delopgaver
│  │ - Delopgaverne bliver progressivt sværere (a=let → d=svær)
│  │ 
│  │ Eksempel på god opgave:
│  │ {
│  │   "taskTypeId":"tal_forholdstalsregning",
│  │   "category":"tal_og_algebra",
│  │   "difficulty":"middel",
│  │   "contextText":"Freja og Oliver skal bage pandekager til deres klasses sommerfest. Opskriften er til 4 personer og kræver 200 g mel, 3 dL mælk og 2 æg.",
│  │   "subQuestions":[
│  │     {"label":"a","questionText":"De skal bage til 12 personer. Hvor meget mel skal de bruge?","answer":{"value":"600","unit":"g"},"difficulty":"let","points":1,"solutionSteps":[{"stepNumber":1,"description":"Find faktor: 12/4 = 3","mathExpression":"12 ÷ 4","result":"3"},{"stepNumber":2,"description":"Gang mel med faktor","mathExpression":"200 · 3","result":"600 g"}]},
│  │     {"label":"b","questionText":"Oliver finder ud af at de kun har 5 dL mælk derhjemme. Hvor mange personer kan de lave pandekager til med den mælk?","answer":{"value":"6","unit":"personer"},"difficulty":"middel","points":1,"solutionSteps":[{"stepNumber":1,"description":"Mælk pr person: 3/4 = 0,75 dL","mathExpression":"3 ÷ 4","result":"0,75 dL"},{"stepNumber":2,"description":"Antal personer: 5/0,75","mathExpression":"5 ÷ 0,75","result":"6 personer"}]},
│  │     {"label":"c","questionText":"Freja køber en ekstra liter mælk (10 dL). Nu har de 15 dL mælk i alt. De beslutter at lave pandekager til alle 12 personer. Hvor mange dL mælk har de tilovers?","answer":{"value":"6","unit":"dL"},"difficulty":"middel","points":1,"solutionSteps":[{"stepNumber":1,"description":"Mælk til 12 personer: 3 · 3 = 9 dL","mathExpression":"3 · 3","result":"9 dL"},{"stepNumber":2,"description":"Tilovers: 15 - 9","mathExpression":"15 - 9","result":"6 dL"}]}
│  │   ],
│  │   "points":3,
│  │   "estimatedTimeSeconds":180
│  │ }
│  │ 
│  │ Output: JSON array med 5 opgaver. KUN JSON, ingen markdown.
│  └───────────────────────────────────────────────────────────
│
│  ┌── OUTPUT (raw LLM response) ───────────────────────────────
│  │ [
│  │   {
│  │     "taskTypeId": "tal_regnearter",
│  │     "category": "tal_og_algebra",
│  │     "difficulty": "let",
│  │     "contextText": "Ida og Noah er til loppemarked på Ingerslevs Boulevard i Aarhus. De har hver især sparet nogle lommepenge op og vil købe både brugte bøger og gamle PlayStation-spil på samme stand.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "Ida køber 3 bøger til 20 kr stykket og 1 PlayStation-spil til 50 kr. Hvor mange penge bruger hun i alt?",
│  │         "answer": {
│  │           "value": "110",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Beregn prisen for bøgerne",
│  │             "mathExpression": "3 · 20",
│  │             "result": "60 kr"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Læg prisen for spillet til",
│  │             "mathExpression": "60 + 50",
│  │             "result": "110 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "Noah køber 2 bøger til 20 kr stykket og 2 spil til 50 kr stykket. Hvor mange penge bruger Noah i alt?",
│  │         "answer": {
│  │           "value": "140",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Beregn prisen for bøgerne",
│  │             "mathExpression": "2 · 20",
│  │             "result": "40 kr"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Beregn prisen for spillene",
│  │             "mathExpression": "2 · 50",
│  │             "result": "100 kr"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Læg det hele sammen",
│  │             "mathExpression": "40 + 100",
│  │             "result": "140 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Ida havde 200 kr med hjemmefra. Hvor mange penge har hun tilbage efter sit køb?",
│  │         "answer": {
│  │           "value": "90",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Træk det, hun har brugt, fra det hun havde med",
│  │             "mathExpression": "200 - 110",
│  │             "result": "90 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "d",
│  │         "questionText": "Noah havde 150 kr med. Han vil gerne købe ét ekstra spil til 50 kr, hvis han kan. Har han råd, og hvor mange penge vil han så have tilbage?",
│  │         "answer": {
│  │           "value": "0",
│  │           "unit": "kr (ja, han har råd og har 0 kr tilbage)"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Beregn, hvor meget Noah har tilbage efter sit første køb",
│  │             "mathExpression": "150 - 140",
│  │             "result": "10 kr"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Beregn, hvad det vil koste med ét ekstra spil",
│  │             "mathExpression": "140 + 50",
│  │             "result": "190 kr"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Sammenlign med de penge, han har (150 kr)",
│  │             "mathExpression": "150 - 50",
│  │             "result": "100 kr skulle han have haft tilbage, men han har kun 10 kr, så han har IKKE råd til et ekstra spil."
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 4,
│  │     "estimatedTimeSeconds": 240
│  │   },
│  │   {
│  │     "taskTypeId": "tal_forholdstalsregning",
│  │     "category": "tal_og_algebra",
│  │     "difficulty": "let",
│  │     "contextText": "Sofie og Victor planlægger en cykeltur langs Limfjorden med deres klasse. De øver sig ved at cykle rundt om søen i deres lokalområde flere gange den samme dag.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "En tur rundt om søen er 4 km. Sofie cykler 3 ture rundt om søen. Hvor langt cykler hun i alt?",
│  │         "answer": {
│  │           "value": "12",
│  │           "unit": "km"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Gang antal ture med længden af én tur",
│  │             "mathExpression": "3 · 4",
│  │             "result": "12 km"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "Victor cykler dobbelt så langt som Sofie. Hvor langt cykler Victor?",
│  │         "answer": {
│  │           "value": "24",
│  │           "unit": "km"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Dobbelt af 12 km",
│  │             "mathExpression": "2 · 12",
│  │             "result": "24 km"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Læreren siger, at på turen langs Limfjorden skal de cykle i forholdet 1 : 2 mellem pauser og cykling (i tid). Klassen planlægger at cykle i alt 3 timer. Hvor lang tid må de så holde pause i alt?",
│  │         "answer": {
│  │           "value": "1",
│  │           "unit": "time"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Forholdet 1 : 2 betyder 1 del pause og 2 dele cykling, altså 3 dele i alt",
│  │             "mathExpression": "1 + 2",
│  │             "result": "3 dele"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Find længden af 1 del",
│  │             "mathExpression": "3 timer ÷ 3",
│  │             "result": "1 time per del"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Pauserne er 1 del",
│  │             "mathExpression": "1 · 1",
│  │             "result": "1 time pause"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "d",
│  │         "questionText": "På selve Limfjords-turen vil de cykle 36 km. De vil holde pauser på samme måde som før (forholdet 1 : 2 i tid). Hvis de cykler med en konstant fart på 12 km/t, hvor mange timer varer hele turen inklusiv pauser?",
│  │         "answer": {
│  │           "value": "4.5",
│  │           "unit": "timer"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Beregn cykeltiden uden pauser",
│  │             "mathExpression": "36 km ÷ 12 km/t",
│  │             "result": "3 timer cykling"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Forholdet 1 : 2 i tid betyder, at pausetiden er halvt så lang som cykeltiden",
│  │             "mathExpression": "3 ÷ 2",
│  │             "result": "1,5 time pause"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Læg cykeltid og pausetid sammen",
│  │             "mathExpression": "3 + 1,5",
│  │             "result": "4,5 timer i alt"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 5,
│  │     "estimatedTimeSeconds": 300
│  │   },
│  │   {
│  │     "taskTypeId": "geo_sammensat_figur",
│  │     "category": "geometri",
│  │     "difficulty": "middel",
│  │     "contextText": "Emma og Magnus hjælper til med at designe en ny terrasse i deres gårdhave i Roskilde. Terrassen skal have form som et stort rektangel med et lille kvadratisk område til en grill, der stikker ud på den ene side.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "Det store rektangel er 6 m langt og 4 m bredt. Hvad er arealet af det store rektangel?",
│  │         "answer": {
│  │           "value": "24",
│  │           "unit": "m²"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Areal af rektangel er længde · bredde",
│  │             "mathExpression": "6 · 4",
│  │             "result": "24 m²"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "På den ene langside vil de bygge et kvadratisk grillområde, som hænger sammen med rektanglet. Kvadratet har siden 2 m. Hvad er arealet af kvadratet?",
│  │         "answer": {
│  │           "value": "4",
│  │           "unit": "m²"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Areal af kvadrat er side · side",
│  │             "mathExpression": "2 · 2",
│  │             "result": "4 m²"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Terrassen kommer til at bestå af det store rektangel og det kvadratiske område, der sidder fast på langsiden uden overlap. Hvad bliver det samlede areal af hele terrassen?",
│  │         "answer": {
│  │           "value": "28",
│  │           "unit": "m²"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Læg arealet af rektanglet og kvadratet sammen",
│  │             "mathExpression": "24 + 4",
│  │             "result": "28 m²"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "d",
│  │         "questionText": "Emma vil sætte en lys-kæde hele vejen rundt langs kanten af den sammensatte terrasse (rektangel + kvadrat). Det kvadratiske område sidder midt på den ene langside af rektanglet, så de sider, der rører hinanden, tælles ikke med i omkredsen. Hvor lang skal lys-kæden være i alt?",
│  │         "answer": {
│  │           "value": "24",
│  │           "unit": "m"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Omkreds af rektanglet uden kvadrat: 2·(6 + 4)",
│  │             "mathExpression": "2 · (6 + 4)",
│  │             "result": "20 m"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Når kvadratet sættes på langsiden, forsvinder et stykke af rektanglets langside på 2 m fra den ydre kant, men der kommer tre nye ydre sider af kvadratet (3 · 2 m), fordi den fjerde side hænger fast på rektanglet.",
│  │             "mathExpression": "Omkredstilvækst = 3·2 - 2",
│  │             "result": "6 - 2 = 4 m ekstra"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Læg tilvæksten til rektanglets oprindelige omkreds",
│  │             "mathExpression": "20 + 4",
│  │             "result": "24 m"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 5,
│  │     "estimatedTimeSeconds": 360
│  │   },
│  │   {
│  │     "taskTypeId": "tal_pris_rabat_procent",
│  │     "category": "tal_og_algebra",
│  │     "difficulty": "middel",
│  │     "contextText": "Freja og Oliver er til musikfestival i Skanderborg og vil købe mad i en bod. De har et fælles madbudget og finder ud af, at der er rabat, hvis man køber flere ting sammen.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "En burger koster 60 kr, og en sodavand koster 20 kr. Freja køber 1 burger og 1 sodavand. Hvor meget betaler hun i alt?",
│  │         "answer": {
│  │           "value": "80",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Læg priserne sammen",
│  │             "mathExpression": "60 + 20",
│  │             "result": "80 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "b",
│  │         "questionText": "Oliver køber 2 burgere og 1 sodavand. Hvor meget skal han betale uden rabat?",
│  │         "answer": {
│  │           "value": "140",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "let",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Pris for 2 burgere",
│  │             "mathExpression": "2 · 60",
│  │             "result": "120 kr"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Læg sodavanden til",
│  │             "mathExpression": "120 + 20",
│  │             "result": "140 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "c",
│  │         "questionText": "Boden har et tilbud: Hvis man køber for mindst 200 kr i alt, får man 10% rabat på hele købet. Freja og Oliver lægger deres køb sammen og betaler på én gang. Hvor meget skal de betale efter rabatten?",
│  │         "answer": {
│  │           "value": "198",
│  │           "unit": "kr"
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 2,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find det samlede beløb uden rabat",
│  │             "mathExpression": "80 + 140",
│  │             "result": "220 kr"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Beregn 10% af 220 kr",
│  │             "mathExpression": "0,10 · 220",
│  │             "result": "22 kr"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Træk rabatten fra det oprindelige beløb",
│  │             "mathExpression": "220 - 22",
│  │             "result": "198 kr"
│  │           }
│  │         ]
│  │       },
│  │       {
│  │         "label": "d",
│  │         "questionText": "Senere på dagen vil de have is. En is koster 30 kr. De har tilsammen 100 kr tilbage efter madkøbet. Hvor mange is kan de højst købe tilsammen, og hvor mange penge vil de have tilbage?",
│  │         "answer": {
│  │           "value": "3 is og 10 kr tilbage",
│  │           "unit": ""
│  │         },
│  │         "difficulty": "middel",
│  │         "points": 1,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find antal hele is, de kan købe for 100 kr",
│  │             "mathExpression": "100 ÷ 30",
│  │             "result": "3 hele is (fordi 3·30 = 90)"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Beregn penge tilbage",
│  │             "mathExpression": "100 - 3·30",
│  │             "result": "100 - 90 = 10 kr"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 5,
│  │     "estimatedTimeSeconds": 360
│  │   },
│  │   {
│  │     "taskTypeId": "stat_sandsynlighed",
│  │     "category": "statistik_og_sandsynlighed",
│  │     "difficulty": "svær",
│  │     "contextText": "Klassen er på tur til Experimentarium. Ved en af standene laver de et spil, hvor man skal gætte farven på kugler, der trækkes op af en pose uden at kigge. I posen ligger der røde, blå og grønne kugler.",
│  │     "subQuestions": [
│  │       {
│  │         "label": "a",
│  │         "questionText": "I posen ligger der 5 røde, 3 blå og 2 grønne kugler. Læreren beder dig beregne sandsynligheden for at trække en rød kugle i første træk. Giv svaret som brøk og i procent.",
│  │         "answer": {
│  │           "value": "1/2 og 50%",
│  │           "unit": ""
│  │         },
│  │         "difficulty": "svær",
│  │         "points": 4,
│  │         "solutionSteps": [
│  │           {
│  │             "stepNumber": 1,
│  │             "description": "Find det samlede antal kugler",
│  │             "mathExpression": "5 + 3 + 2",
│  │             "result": "10 kugler i alt"
│  │           },
│  │           {
│  │             "stepNumber": 2,
│  │             "description": "Sandsynlighed for rød kugle er antal røde delt med samlet antal",
│  │             "mathExpression": "5/10",
│  │             "result": "1/2"
│  │           },
│  │           {
│  │             "stepNumber": 3,
│  │             "description": "Lav brøken om til procent",
│  │             "mathExpression": "1/2 · 100%",
│  │             "result": "50%"
│  │           }
│  │         ]
│  │       }
│  │     ],
│  │     "points": 4,
│  │     "estimatedTimeSeconds": 300
│  │   }
│  │ ]
│  └───────────────────────────────────────────────────────────
└──────────────────────────────────────────────────────────────

┌─ [4/5] VisualizationAgent ─ CreateVisualizations (count=4)
│  Timestamp: 2026-02-13 20.49.50.261 UTC
│  Duration:  20569ms
│
│  ┌── INPUT (prompt sent to LLM) ──────────────────────────────
│  │ Tasks requiring visualization: geo_sammensat_figur, stat_sandsynlighed, geo_sammensat_figur, stat_sandsynlighed
│  └───────────────────────────────────────────────────────────
│
│  ┌── OUTPUT (raw LLM response) ───────────────────────────────
│  │ Completed 4 visualizations
│  └───────────────────────────────────────────────────────────
└──────────────────────────────────────────────────────────────

┌─ [5/5] GeminiImageGenerationAgent ─ GenerateImages (count=8)
│  Timestamp: 2026-02-13 20.49.51.906 UTC
│  Duration:  117103ms
│
│  ┌── INPUT (prompt sent to LLM) ──────────────────────────────
│  │ Images generated in parallel with task batches
│  └───────────────────────────────────────────────────────────
│
│  ┌── OUTPUT (raw LLM response) ───────────────────────────────
│  │ Completed 8/8 images
│  └───────────────────────────────────────────────────────────
└──────────────────────────────────────────────────────────────

══════════════════════════════════════════════════════════════════
  GENERATED TASKS SUMMARY
══════════════════════════════════════════════════════════════════

  Task 1: [tal_regnearter] (let)
    Category: tal_og_algebra
    Context:  Sofie og Noah er på loppemarked i Aarhus med deres klasse. De har en fælles pengepung med 300 kr til at købe brugte bøger, spil og måske en is til sidst.
    Points:   4
    Image:    /api/images/bfe2ee5f-4a00-4627-900b-d43faa3c973e.png
    a) Sofie finder en stak brugte bøger. Hver bog koster 25 kr, og hun køber 3 bøger. Hvor mange penge bruger hun på bøgerne?
       Answer: 75 kr
    b) Noah finder et brætspil til 60 kr og et puslespil til 45 kr. Hvor mange penge bruger han i alt?
       Answer: 105 kr
    c) Efter de har købt bøger og spil, vil de se, hvor mange penge der er tilbage i den fælles pengepung. Hvor mange kroner har de tilbage af de 300 kr?
       Answer: 120 kr
    d) Til sidst vil de købe is. En is koster 20 kr pr. person. De vil også købe en ekstra is til deres lærer. Hvor mange is kan de højst købe for de 120 kr, hvis de også skal have en til læreren?
       Answer: 6 is

  Task 2: [tal_forholdstalsregning] (middel)
    Category: tal_og_algebra
    Context:  Emma og Victor skal bage pizzasnegle til klassens film-aften på skolen i Roskilde. Opskriften er beregnet til 8 pizzasnegle og bruger 200 g mel og 100 g ost.
    Points:   5
    a) De vil bage 24 pizzasnegle. Hvor mange gram mel skal de bruge?
       Answer: 600 g
    b) De opdager, at de kun har 250 g ost. Hvor mange pizzasnegle kan de højest bage, hvis forholdet mellem mel og ost skal være det samme som i den oprindelige opskrift?
       Answer: 20 pizzasnegle
    c) Læreren fortæller, at der kommer 25 elever til film-aften, og alle skal mindst have 2 pizzasnegle. Emma foreslår at bage små pizzasnegle, så hver opskrift giver 12 i stedet for 8. Hvor mange hele portioner af opskriften skal de bage for at have nok små pizzasnegle til alle?
       Answer: 5 portioner

  Task 3: [geo_sammensat_figur] (middel)
    Category: geometri
    Context:  Freja og Oliver hjælper med at planlægge en ny hundegård i deres bedsteforældres have i Aalborg. Hundegården skal have form som et rektangel med et lille kvadratisk område til hundehus i det ene hjørne.
    Points:   5
    Image:    /api/images/27ead70e-51a0-4257-a6db-4508092bbaff.png
    Viz:      svg
    a) Det rektangulære område til hundegården skal være 8 m langt og 5 m bredt. Hvad er arealet af hele det rektangulære område?
       Answer: 40 m²
    b) I det ene hjørne vil de bygge et kvadratisk område til hundehus med sidelængden 2 m. Hvad er arealet af området til hundehuset?
       Answer: 4 m²
    c) Det kvadratiske område til hundehuset ligger inde i det store rektangel. Hvor stort bliver arealet af det område, hvor hunden kan løbe frit (altså uden hundehuset)?
       Answer: 36 m²
    d) Freja vil købe hegn til at sætte rundt om hele den ydre rektangulære hundegård. Hvor mange meter hegn skal hun bruge i alt, hvis hun skal rundt om alle fire sider?
       Answer: 26 m

  Task 4: [stat_sandsynlighed] (middel)
    Category: statistik_og_sandsynlighed
    Context:  Ida og Magnus er til svømmestævne i Odense. De deltager i en lille konkurrence, hvor man kan vinde præmier ved at trække farvede kugler op af en pose efter hvert løb.
    Points:   5
    Image:    /api/images/cecffe90-ce6a-4510-9d1f-874b50fc2423.png
    Viz:      chart
    a) I posen ligger der 5 røde kugler, 3 blå kugler og 2 grønne kugler. Hvor mange kugler er der i alt i posen?
       Answer: 10 kugler
    b) En rød kugle giver en lille præmie. Hvad er sandsynligheden for at trække en rød kugle i ét forsøg? Svar som brøk.
       Answer: 1/2 
    c) En grøn kugle giver en stor præmie, men Ida må kun trække én kugle. Hvad er sandsynligheden for, at hun IKKE får en stor præmie (altså ikke trækker en grøn kugle)? Svar som brøk.
       Answer: 4/5 

  Task 5: [tal_pris_rabat_procent] (svær)
    Category: tal_og_algebra
    Context:  Klassens elevråd planlægger en tur til Experimentarium i Hellerup. De skal finde ud af, om deres budget rækker til både togbilletter og entrébilletter. De har i alt 3600 kr i klassens kasse, og der er 24 elever, der skal med.
    Points:   8
    Image:    /api/images/23c0667f-74b3-42b9-b2ce-716590bfe75f.png
    a) En togbillet tur-retur koster 75 kr pr. elev. Experimentarium tilbyder en gruppebillet, hvor hver entrébillet koster 110 kr pr. elev. Hvor mange kroner koster turen i alt pr. elev?
       Answer: 185 kr pr. elev
    b) Hvor mange kroner vil hele turen koste for alle 24 elever tilsammen?
       Answer: 4440 kr
    c) Experimentarium sender et tilbud: Hvis man bestiller billetterne online, får man 20% rabat på entrébilletterne (men ikke på togbilletterne). Har klassen så råd til turen med de 3600 kr? Vis din beregning.
       Answer: nej 

  Task 6: [tal_regnearter] (let)
    Category: tal_og_algebra
    Context:  Ida og Noah er til loppemarked på Ingerslevs Boulevard i Aarhus. De har hver især sparet nogle lommepenge op og vil købe både brugte bøger og gamle PlayStation-spil på samme stand.
    Points:   4
    Image:    /api/images/19bd51e9-66ee-4987-b0ee-95f5196ef38e.png
    a) Ida køber 3 bøger til 20 kr stykket og 1 PlayStation-spil til 50 kr. Hvor mange penge bruger hun i alt?
       Answer: 110 kr
    b) Noah køber 2 bøger til 20 kr stykket og 2 spil til 50 kr stykket. Hvor mange penge bruger Noah i alt?
       Answer: 140 kr
    c) Ida havde 200 kr med hjemmefra. Hvor mange penge har hun tilbage efter sit køb?
       Answer: 90 kr
    d) Noah havde 150 kr med. Han vil gerne købe ét ekstra spil til 50 kr, hvis han kan. Har han råd, og hvor mange penge vil han så have tilbage?
       Answer: 0 kr (ja, han har råd og har 0 kr tilbage)

  Task 7: [tal_forholdstalsregning] (let)
    Category: tal_og_algebra
    Context:  Sofie og Victor planlægger en cykeltur langs Limfjorden med deres klasse. De øver sig ved at cykle rundt om søen i deres lokalområde flere gange den samme dag.
    Points:   5
    a) En tur rundt om søen er 4 km. Sofie cykler 3 ture rundt om søen. Hvor langt cykler hun i alt?
       Answer: 12 km
    b) Victor cykler dobbelt så langt som Sofie. Hvor langt cykler Victor?
       Answer: 24 km
    c) Læreren siger, at på turen langs Limfjorden skal de cykle i forholdet 1 : 2 mellem pauser og cykling (i tid). Klassen planlægger at cykle i alt 3 timer. Hvor lang tid må de så holde pause i alt?
       Answer: 1 time
    d) På selve Limfjords-turen vil de cykle 36 km. De vil holde pauser på samme måde som før (forholdet 1 : 2 i tid). Hvis de cykler med en konstant fart på 12 km/t, hvor mange timer varer hele turen inklusiv pauser?
       Answer: 4.5 timer

  Task 8: [geo_sammensat_figur] (middel)
    Category: geometri
    Context:  Emma og Magnus hjælper til med at designe en ny terrasse i deres gårdhave i Roskilde. Terrassen skal have form som et stort rektangel med et lille kvadratisk område til en grill, der stikker ud på den ene side.
    Points:   5
    Image:    /api/images/de788580-ace3-46b5-b7e9-98eafc933edf.png
    Viz:      svg
    a) Det store rektangel er 6 m langt og 4 m bredt. Hvad er arealet af det store rektangel?
       Answer: 24 m²
    b) På den ene langside vil de bygge et kvadratisk grillområde, som hænger sammen med rektanglet. Kvadratet har siden 2 m. Hvad er arealet af kvadratet?
       Answer: 4 m²
    c) Terrassen kommer til at bestå af det store rektangel og det kvadratiske område, der sidder fast på langsiden uden overlap. Hvad bliver det samlede areal af hele terrassen?
       Answer: 28 m²
    d) Emma vil sætte en lys-kæde hele vejen rundt langs kanten af den sammensatte terrasse (rektangel + kvadrat). Det kvadratiske område sidder midt på den ene langside af rektanglet, så de sider, der rører hinanden, tælles ikke med i omkredsen. Hvor lang skal lys-kæden være i alt?
       Answer: 24 m

  Task 9: [tal_pris_rabat_procent] (middel)
    Category: tal_og_algebra
    Context:  Freja og Oliver er til musikfestival i Skanderborg og vil købe mad i en bod. De har et fælles madbudget og finder ud af, at der er rabat, hvis man køber flere ting sammen.
    Points:   5
    Image:    /api/images/cf5ee63e-26d3-493f-98fc-567c9b43e908.png
    a) En burger koster 60 kr, og en sodavand koster 20 kr. Freja køber 1 burger og 1 sodavand. Hvor meget betaler hun i alt?
       Answer: 80 kr
    b) Oliver køber 2 burgere og 1 sodavand. Hvor meget skal han betale uden rabat?
       Answer: 140 kr
    c) Boden har et tilbud: Hvis man køber for mindst 200 kr i alt, får man 10% rabat på hele købet. Freja og Oliver lægger deres køb sammen og betaler på én gang. Hvor meget skal de betale efter rabatten?
       Answer: 198 kr
    d) Senere på dagen vil de have is. En is koster 30 kr. De har tilsammen 100 kr tilbage efter madkøbet. Hvor mange is kan de højst købe tilsammen, og hvor mange penge vil de have tilbage?
       Answer: 3 is og 10 kr tilbage 

  Task 10: [stat_sandsynlighed] (svær)
    Category: statistik_og_sandsynlighed
    Context:  Klassen er på tur til Experimentarium. Ved en af standene laver de et spil, hvor man skal gætte farven på kugler, der trækkes op af en pose uden at kigge. I posen ligger der røde, blå og grønne kugler.
    Points:   4
    Image:    /api/images/4b073db1-65dc-4732-ab79-4f568b4ca498.png
    Viz:      chart
    a) I posen ligger der 5 røde, 3 blå og 2 grønne kugler. Læreren beder dig beregne sandsynligheden for at trække en rød kugle i første træk. Giv svaret som brøk og i procent.
       Answer: 1/2 og 50% 

──────────────────────────────────────────────────────────────────
  STATISTICS
──────────────────────────────────────────────────────────────────
  Categories:
    tal_og_algebra: 6
    geometri: 2
    statistik_og_sandsynlighed: 2
  Difficulty:
    let: 3
    middel: 5
    svær: 2
  Regenerated tasks: 0

═══════════════════════════════════════════════════════════════ END
